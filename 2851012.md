# Общая структура сообщения
Каждое сообщение, кроме системных ответов, содержит обязательную часть в Root узле.

Тег | Описание | Частота | Тип данных | Размер поля | Комментарий
----|----------|---------|------------|-------------|------------
[Корень сообщения] | Наименование корня сообщения | 1..1 | | |
[Наименование]Header | Заголовок сообщения с фиксированным постфиксом Header | 1..1 | | | 
MessageID | Уникальный код сообщения | 1..1 | String | 50 | GUID
CustomerCode | Код клиента | 1..1 | String | 20 |
ProjectCode | Код проекта | 1..1 | String | 20 | 
StockCode | Код склада | 1..1 | String | 20 | 
[Тело сообщения] | Тело сообщения | 1..1 | | | 

Поля в заголовках всех сообщений одинаковые. Код сообщения должен быть уникальным для каждого файла, лучше всего использовать guid. Код клиента присваивается в WMS и не меняется на протяжении всего времени работы с клиентом. Если ведется учет по разным проектам, то указывается код требуемого проекта, в противном случае указывается всегда один основной проект. Код склада указывается в зависимости от территориального положения склада.

### Расширенные данные в сообщении
Поля расширенных данных в сообщениях с заявками могут содержать любую необходимую информацию для обработки заявок складом. В каждом случае данные в этих полях могут различаться и поэтому, в спецификации не описаны.

### Тип действия в сообщении
Тип действия указывает на конкретные действия системы WMS в приходных и расходных заявках.Тип действия согласовывается с личным менеджером проекта.

## Общие правила формирования сообщений.
1. Все сообщения должны соответствовать описанным схемам. На сообщения с неверной схемой ответы не формируются.
2. Информационный обмен работает только с сообщениями, где ВЕРНО указан код клиента, код проекта. Если в этих полях есть ошибки, ответы не формируются.
3. Клиент обязан обеспечить чистоту передаваемых данных в сообщениях.
4. Все обязательные поля (1..1, 1.. n) должны присутствовать в структуре сообщения и иметь значение.
5. Все необязательные поля (0..n, 0..1) должны быть исключены из сообщения, если они не имеют значений. А так же исключать не обязательные группы полей в случае не заполнения ни одного из вложенных значений.
6. Имена файлов сообщений должны быть уникальными, но имя файла не может использоваться в информационном обмене и не несет никакой информационной нагрузки.

## Общие правила обработки сообщений в WMS
1. Если в сообщении присутствует хоть одна ошибка, то все данные из этого сообщения не будут загружены.
2. Номер заказа должен быть уникальным в рамках всех типов заказов клиента.
3. Системный ответ должен обрабатываться на стороне клиента для корректной работы всей интеграции МТХМЛ в целом.
